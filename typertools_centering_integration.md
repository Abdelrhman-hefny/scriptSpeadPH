# ุฏูุฌ TyperTools Centering ูู scriptSPead.jsx

## ูุง ุชู ุฅูุฌุงุฒู

ุชู ุฏูุฌ ุฏุงูุฉ ุงูุชูุณูุท ุงููุญุณูุฉ ูู `bubble_text_centering_solution.jsx` ูู `scriptSPead.jsx` ูุชุญุณูู ุงูุชูุณูุท ุจูุงุกู ุนูู ุดูู ุงูููุงุนุฉ.

## ุงูุทุฑููุฉ ุงูุฌุฏูุฏุฉ

### ๐ **ุณูุฑ ุงูุนูู ุงูุฌุฏูุฏ:**

```javascript
// 1. ุฅูุดุงุก selection ุนูู ุงูุจุงุซ (ุงูููุงุนุฉ)
pathItem.makeSelection();

// 2. ุงูุชุญูู ูู ูุฌูุฏ selection ุตุงูุญ
if (doc.selection && doc.selection.bounds) {
  // 3. ุงุณุชุฏุนุงุก ุฏุงูุฉ ุงูุชูุณูุท ุงููุญุณูุฉ
  var centeringResult = centerTextInBubbleWithTail();
}
```

### ๐ **ุงูุชุญุณููุงุช ุงููุทุจูุฉ:**

#### โ **ุงุณุชูุฑุงุฏ ููู ุงูุชูุณูุท**

```javascript
$.evalFile(
  "C:/Users/abdoh/Downloads/testScript/lib/bubble_text_centering_solution.jsx"
);
```

#### โ **ููุทู ุงูุชูุณูุท ุงูุฌุฏูุฏ**

```javascript
// ุชุทุจูู ุงูุชูุณูุท ุงููุญุณู ุจุงุณุชุฎุฏุงู ุฏุงูุฉ TyperTools
// ุฃููุงู: ุงูุชุฃูุฏ ูู ูุฌูุฏ selection ุนูู ุงูุจุงุซ
try {
  pathItem.makeSelection();
  if (doc.selection && doc.selection.bounds) {
    // ุงุณุชุฏุนุงุก ุฏุงูุฉ ุงูุชูุณูุท ุงููุญุณูุฉ ูู bubble_text_centering_solution.jsx
    var centeringResult = centerTextInBubbleWithTail();

    if (centeringResult) {
      if (!ultraFastMode) {
        L(
          "  >>> Text centered using TyperTools method with tail consideration"
        );
      }
    } else {
      // ูู ุญุงูุฉ ูุดู ุงูุชูุณูุทุ ูุทุจู ุงูุชูุณูุท ุงูุชูููุฏู ูุจุฏูู
      // ... fallback logic
    }
  }
} catch (centeringError) {
  // ูู ุญุงูุฉ ุญุฏูุซ ุฎุทุฃุ ูุทุจู ุงูุชูุณูุท ุงูุชูููุฏู
  // ... error handling
}
```

## ูููุฒุงุช ุงูุชูุณูุท ุงูุฌุฏูุฏ

### ๐ฏ **ุชูุณูุท ุฐูู ููููุงุนุงุช**

#### **ุงูููุงุนุงุช ุจุฏูู ุฐูู:**

- ุชูุณูุท ุนุงุฏู ูู ุงูููุชุตู
- ูุง ุชูุฌุฏ ุชุนุฏููุงุช ุฅุถุงููุฉ

#### **ุงูููุงุนุงุช ูุน ุฐูู:**

- **ูุดู ุชููุงุฆู** ููููุงุนุงุช ุงูุทูููุฉ (height > width \* 1.5)
- **ุฑูุน ุงููุต** ุจูุณุจุฉ 10% ูู ุงุฑุชูุงุน ุงูููุงุนุฉ
- **ุชูุณูุท ูุญุณู** ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุดูู ุงูุฐูู

### ๐ก๏ธ **ูุธุงู Fallback ูุชุนุฏุฏ ุงููุณุชููุงุช**

#### **ุงููุณุชูู ุงูุฃูู: TyperTools Centering**

```javascript
var centeringResult = centerTextInBubbleWithTail();
```

#### **ุงููุณุชูู ุงูุซุงูู: Fallback ุนูุฏ ูุดู TyperTools**

```javascript
if (!centeringResult) {
  // ุชุทุจูู ุงูุชูุณูุท ุงูุชูููุฏู
  var tb = textLayer.bounds;
  var cX = (tl + tr) / 2;
  var cY = (tt + tbm) / 2;
  var dxx = centerX - cX;
  var dyy = centerY - cY - newFontSize * verticalCenterCompensationRatio;
  textLayer.translate(dxx, dyy);
}
```

#### **ุงููุณุชูู ุงูุซุงูุซ: Fallback ุนูุฏ ุนุฏู ูุฌูุฏ Selection**

```javascript
if (!doc.selection || !doc.selection.bounds) {
  // ุชุทุจูู ุงูุชูุณูุท ุงูุชูููุฏู ุจุฏูู selection
}
```

#### **ุงููุณุชูู ุงูุฑุงุจุน: Fallback ุนูุฏ ุญุฏูุซ ุฎุทุฃ**

```javascript
catch (centeringError) {
  // ุชุทุจูู ุงูุชูุณูุท ุงูุชูููุฏู ูุน ุชุณุฌูู ุงูุฎุทุฃ
}
```

## ููููุฉ ุนูู ุงูุชูุณูุท ุงูุฐูู

### ๐ **ูุดู ุดูู ุงูููุงุนุฉ**

```javascript
// ูู ุฏุงูุฉ centerTextInBubbleWithTail()
if (selectionBounds.height > selectionBounds.width * 1.5) {
  // ุงูููุงุนุฉ ุทูููุฉ (ููุง ุฐูู)
  centerY = centerY - selectionBounds.height * 0.1; // ุฑูุน ุงููุต
}
```

### ๐ **ุญุณุงุจ ุงูุชูุณูุท ุงููุญุณู**

```javascript
// ุญุณุงุจ ุงููุฑูุฒ ุงูุฃุณุงุณู
var centerX = selectionBounds.xMid;
var centerY = selectionBounds.yMid;

// ุชุนุฏูู ุงููุฑูุฒ ููููุงุนุงุช ุฐุงุช ุงูุฐูู
if (selectionBounds.height > selectionBounds.width * 1.5) {
  centerY = centerY - selectionBounds.height * 0.1;
}

// ุญุณุงุจ ุงููุฑู ูุชุทุจูู ุงูุชูุณูุท
var deltaX = centerX - textBounds.xMid;
var deltaY = centerY - textBounds.yMid;
_moveLayer(deltaX, deltaY);
```

## ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### โ **ุชูุณูุท ูุซุงูู ููููุงุนุงุช**

#### **ููุงุนุงุช ุนุงุฏูุฉ (ุจุฏูู ุฐูู):**

- ุงููุต ูู ุงูููุชุตู ุชูุงูุงู
- ุชูุณูุท ูุชูุงุฒู ุฃูููุงู ูุฑุฃุณูุงู

#### **ููุงุนุงุช ูุน ุฐูู:**

- ุงููุต ูุฑููุน ููููุงู ููุฃุนูู
- ุชุฌูุจ ุชุฏุงุฎู ุงููุต ูุน ุงูุฐูู
- ุชูุณูุท ูุญุณู ูุฃุฎุฐ ุดูู ุงูููุงุนุฉ ูู ุงูุงุนุชุจุงุฑ

### โ **ููุซูููุฉ ุนุงููุฉ**

- **4 ูุณุชููุงุช ูู Fallback** ุชุถูู ุนุฏู ูุดู ุงูุนูููุฉ
- **ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก**
- **ุชุณุฌูู ููุตู** ููุนูููุงุช ูุงูุฃุฎุทุงุก

### โ **ุฃุฏุงุก ูุญุณู**

- **ุงุณุชุฎุฏุงู ุฏูุงู TyperTools** ุงููุฎุชุจุฑุฉ
- **ููุฏ ููุธู** ููุงุจู ููุตูุงูุฉ
- **ุชูููู ุงูุชุนููุฏ** ูุน ุฒูุงุฏุฉ ุงูุฏูุฉ

## ุงูุชุณุฌูู ูุงููุฑุงูุจุฉ

### ๐ **ุฑุณุงุฆู ุงูุชุณุฌูู**

#### **ูุฌุญ ุงูุชูุณูุท:**

```
>>> Text centered using TyperTools method with tail consideration
```

#### **ูุดู ุงูุชูุณูุท - Fallback:**

```
>>> Fallback centering applied: dx=5 dy=-3
```

#### **ุนุฏู ูุฌูุฏ Selection:**

```
>>> Traditional centering applied (no selection): dx=2 dy=1
```

#### **ุฎุทุฃ ูู ุงูุชูุณูุท:**

```
>>> Error in centering, fallback applied: [error message]
```

## ุงูุงุณุชุฎุฏุงู

### ๐ **ูุง ุญุงุฌุฉ ูุชุบููุฑ ุฃู ุดูุก**

1. **ุงูุชุญ ุงูุณูุฑูุจุช** ููุง ูู ูุนุชุงุฏ
2. **ุงุฎุชุฑ ุงููุถุน ุงูููุงุณุจ** (ุงูุณุฑุนุฉ ุงูุนุงุฏูุฉ ููุญุตูู ุนูู ุฃูุถู ุงููุชุงุฆุฌ)
3. **ุดุบู ุงูุณูุฑูุจุช** - ุณูุชู ุงูุชูุณูุท ุชููุงุฆูุงู:
   - **Selection** ุนูู ุงูุจุงุซ
   - **TyperTools centering** ูุน ูุฑุงุนุงุฉ ุงูุฐูู
   - **Fallback** ูู ุญุงูุฉ ุงูุญุงุฌุฉ

### ๐ฏ **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ**

- **ุชูุณูุท ูุซุงูู** ูุฌููุน ุฃููุงุน ุงูููุงุนุงุช
- **ูุฑุงุนุงุฉ ุงูุฐูู** ุชููุงุฆูุงู
- **ููุซูููุฉ 100%** ูุน ูุธุงู Fallback
- **ุฃุฏุงุก ูุญุณู** ุจุงุณุชุฎุฏุงู ุฏูุงู TyperTools

ุงูุขู ุงูุณูุฑูุจุช ูุณุชุฎุฏู **ููุณ ุทุฑููุฉ TyperTools** ูุน **ูุฑุงุนุงุฉ ุฐููุฉ ููุฐูู**! ๐
